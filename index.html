<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://trello.com/1/client.js?key=ae3ab7813e41fff4df3f0760bb7bda88"></script>

<h1>Desglose de evaluacion de Ing. de Software</h1>

<h2>Equipo: Freelancer</h2>

<h3 id="current_grade"></h3>

<script>

var authenticationSuccess = function() {

  Trello.get("/lists/578edee4186e115ff4b04ce6/cards",
    function(data)
    {
      var names = []
      var nums = []
      var nums_sum = 0.0
      for(i=0;i<data.length;i++)
      {
        names.push(data[i].name)
        j=data[i].name.length-1
        while(data[i].name[j]!=' ')
        {
          j--
        }
        j++
        var str_num=""
        for(;j<data[i].name.length;j++)
        {
          str_num+=data[i].name[j]
        }
        nums.push(parseFloat(str_num))
      }
      for(i=0;i<names.length;i++)
      {
        console.log(names[i]);
      }
      for(i=0;i<names.length;i++)
      {
        console.log(nums[i]);
        nums_sum+=nums[i]
      }
      $("#current_grade").append("Nota final: "+nums_sum);
    },
    function()
    {
      console.log("errorcito");
    }
  )};

  var authenticationFailure = function() {
    console.log("fail");
  };

  Trello.authorize({
    type: 'popup',
    name: 'Getting Started Application',
    scope: {
      read: 'true',
      write: 'true' },
    expiration: 'never',
    success: authenticationSuccess,
    error: authenticationFailure
  });
</script>
